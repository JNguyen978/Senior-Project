<?PHP
$server = "localhost";
$username = "S0245819";
$password = "Nguyen1992";
$database = "S0245819";

$db = new mysqli($server,$username,$password,$database);
if ($db -> connect_error) die ("Connection Failed");
	//echo "Connected ";
	
//mysqli_select_db($db, "NarakaPain");
	
$RiotAPI = file_get_contents("https://global.api.riotgames.com/api/lol/static-data/NA/v1.2/item?api_key=RGAPI-9f105d8f-e469-4e5e-bf31-1d2be6fd6763");	
	//echo $RiotAPI; summoner-spell

$data = json_decode($RiotAPI, true);
		
	//var_dump($data);
	
$itemid = array(
'1410','2009','3089','3087','3086',
'3085','1414','1413','3084','1412',
'2003','3083','1419','3082','1418',
'1416','3285','2010','3711','3098',
'3094','3097','2015','3096','3091',
'3090','1083','1082','3092','3715',
'3742','3599','3748','2303','2301',
'2302','1058','1056','1057','3110',
'3111','3112','3107','3109','3108',
'3102','3105','3104','3100','3101',
'3252','3812','3814','3801','3706',
'3802','3800','3504','3508','3361',
'3362','3363','3364','1409','2140',
'1408','1401','1402','1400','2138',
'2139','1004','1001','3146','1006',
'3147','3680','3006','3003','3004',
'3683','3009','3681','3007','3682',
'3008','3341','3675','3340','3010',
'3156','3155','3153','3200','1011',
'3152','3151','3139','3135','3136',
'3137','3348','3345','3001','3143',
'3142','3145','3401','3144','3211',
'3140','3124','3029','3027','3028',
'3025','3026','3512','3035','3034',
'3033','3031','3030','3222','3134',
'3133','3113','3114','3115','3116',
'3117','3022','3024','3020','3123',
'3122','2053','2054','3048','2055',
'3047','3640','2050','2051','2052',
'1051','3197','3198','1054','3196',
'1055','1052','1053','3191','3052',
'3632','3053','3633','3050','3630',
'3190','3631','3056','3636','2047',
'3057','3637','3634','2049','3635',
'3036','3301','3303','3302','1037',
'1036','1039','1038','3649','3187',
'1041','1042','3184','1043','3185',
'3641','3642','3040','3643','3041',
'3181','3042','3645','3043','3044',
'3647','3648','3046','2031','2032',
'3901','2033','3069','3903','3902',
'1029','3462','1028','3461','1027',
'3460','1026','3070','3071','3174',
'1033','3751','1031','3078','3077',
'3074','3075','3170','3072','3073',
'3671','3673','3672','2045','3158',
'3157','1018','3060','3165','3065',
'3067','3068'); //237
	//echo $spells[0]; 
	
for ($i = 0; $i<=236;$i++){
	
$id = $data["data"][$itemid[$i]]['id'];	
	echo "id = ($id)";
$name = $data["data"][$itemid[$i]]['name'];	
	echo "name = ($name)";
$plaintext = $data["data"][$itemid[$i]]['plaintext'];
	echo "plaintext =($plaintext)";

$stmt = $db->prepare("INSERT INTO RiotItems(id,name,plaintext) VALUES (?, ?, ?)");
$stmt->bind_param("sss", $id, $name, $plaintext);

$stmt->execute();
	

}

?>
